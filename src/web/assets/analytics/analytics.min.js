!function(n){"use strict";n.lrCampaignManagerAnalyticsInit=function(a){const e=a||{};if(n.lrCampaignManagerAnalyticsBound)return void(n.lrAnalyticsInit&&n.lrAnalyticsInit(e));n.lrCampaignManagerAnalyticsBound=!0,n.lrAnalyticsInit&&n.lrAnalyticsInit(e);n.lrChartColors;const t=e.strings||{};function l(n){if(!n)return;n.style.display="";const a=n.parentNode;a&&a.querySelectorAll(".zilch").forEach(n=>n.remove())}function r(a,e,t){const r=document.getElementById(a);if(!r)return;l(r),function(a,e){const t=a.replace(/-/g,"_");n.lrChartInstances&&n.lrChartInstances[e]&&n.lrChartInstances[e][t]&&(n.lrChartInstances[e][t].destroy(),delete n.lrChartInstances[e][t])}(a,t),r.style.display="none";const s=document.createElement("div");s.className="zilch",s.style.padding="48px 24px",s.innerHTML="<p>"+e+"</p>",r.parentNode.appendChild(s)}function s(a,e){const s={};a&&"all"!==a&&(s.campaignId=a),n.lrLoadChartData("daily",function(a){if(!a||!a.labels)return;const s=Array.isArray(a.recipients)&&a.recipients.some(n=>Number(n)>0),i=Array.isArray(a.submissions)&&a.submissions.some(n=>Number(n)>0);s||i?function(a){const e=document.getElementById("daily-trend-chart");if(!e)return;l(e),n.lrCreateChart("daily-trend-chart","line",{labels:a.labels,datasets:[{label:t.recipientsLabel||"Recipients Added",data:a.recipients,borderColor:"#0d78f2",backgroundColor:"rgba(13, 120, 242, 0.1)",tension:.3,fill:!0},{label:t.responsesLabel||"Responses",data:a.submissions,borderColor:"#10b981",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.3,fill:!0}]},{maintainAspectRatio:!1,plugins:{legend:{position:"top"}}})}(a):r("daily-trend-chart",t.noActivity||"No activity data available.",e)},s),n.lrLoadChartData("channels",function(a){if(!a||!a.labels||!a.values)return;Array.isArray(a.values)&&a.values.some(n=>Number(n)>0)?function(a){const e=document.getElementById("channel-chart");if(!e)return;l(e),n.lrCreateChart("channel-chart","doughnut",{labels:a.labels,datasets:[{data:a.values,backgroundColor:["#3b82f6","#8b5cf6","#10b981"]}]})}(a):r("channel-chart",t.noChannel||"No channel data available.",e)},s),n.lrLoadChartData("engagement",function(a){if(!a||!a.labels)return;const s=Array.isArray(a.emailOpens)&&a.emailOpens.some(n=>Number(n)>0),i=Array.isArray(a.smsOpens)&&a.smsOpens.some(n=>Number(n)>0);s||i?function(a){const e=document.getElementById("engagement-chart");if(!e)return;l(e),n.lrCreateChart("engagement-chart","line",{labels:a.labels,datasets:[{label:t.emailOpensLabel||"Email Opens",data:a.emailOpens,borderColor:"#3b82f6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.3,fill:!0},{label:t.smsOpensLabel||"SMS Opens",data:a.smsOpens,borderColor:"#8b5cf6",backgroundColor:"rgba(139, 92, 246, 0.1)",tension:.3,fill:!0}]},{maintainAspectRatio:!1,plugins:{legend:{position:"top"}}})}(a):r("engagement-chart",t.noEngagement||"No engagement data available.",e)},s),n.lrLoadChartData("funnel",function(a){if(!a||!a.labels||!a.values)return;Array.isArray(a.values)&&a.values.some(n=>Number(n)>0)?function(a){const e=document.getElementById("funnel-chart");if(!e)return;l(e),n.lrCreateChart("funnel-chart","bar",{labels:a.labels,datasets:[{label:t.countLabel||"Count",data:a.values,backgroundColor:["#0d78f2","#3b82f6","#8b5cf6","#10b981"]}]},{indexAxis:"y",maintainAspectRatio:!1,plugins:{legend:{display:!1}}})}(a):r("funnel-chart",t.noFunnel||"No funnel data available.",e)},s)}document.addEventListener("lr:analyticsInit",function(a){const e=a.detail&&a.detail.config?a.detail.config:n.lrAnalyticsConfig||{};s(e.customFilters?e.customFilters.campaign:null,e.prefix||"analytics")})}}(window);