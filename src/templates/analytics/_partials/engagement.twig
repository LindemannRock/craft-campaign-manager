{# Engagement Tab - Open rates and engagement metrics #}

{# Engagement Stats Grid #}
<div class="lr-unified-cards">
    {% include 'lindemannrock-base/_components/cards/unified-card' with {
        value: summaryStats.emailsOpened,
        description: 'Emails Opened'|t('campaign-manager'),
        align: 'center',
    } only %}

    {% include 'lindemannrock-base/_components/cards/unified-card' with {
        value: summaryStats.smsOpened,
        description: 'SMS Opened'|t('campaign-manager'),
        align: 'center',
    } only %}

    {% include 'lindemannrock-base/_components/cards/unified-card' with {
        value: summaryStats.emailOpenRate ~ '%',
        description: 'Email Open Rate'|t('campaign-manager'),
        align: 'center',
    } only %}

    {% include 'lindemannrock-base/_components/cards/unified-card' with {
        value: summaryStats.smsOpenRate ~ '%',
        description: 'SMS Open Rate'|t('campaign-manager'),
        align: 'center',
    } only %}
</div>

{# Engagement Over Time Chart #}
<div class="lr-analytics-charts">
    <div class="lr-chart-container full-width">
        <h3>{{ 'Opens Over Time'|t('campaign-manager') }}</h3>
        <div class="lr-chart-height-250">
            <canvas id="engagement-chart"></canvas>
        </div>
    </div>
</div>

{# Channel Comparison Table #}
<div class="lr-chart-container lr-mt-24">
    <h3>{{ 'Channel Comparison'|t('campaign-manager') }}</h3>
    <div class="lr-table-scroll">
        <table class="data fullwidth">
            <thead>
                <tr>
                    <th>{{ 'Channel'|t('campaign-manager') }}</th>
                    <th class="lr-text-end">{{ 'Sent'|t('campaign-manager') }}</th>
                    <th class="lr-text-end">{{ 'Opened'|t('campaign-manager') }}</th>
                    <th class="lr-text-end">{{ 'Open Rate'|t('campaign-manager') }}</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>{{ 'Email'|t('campaign-manager') }}</strong></td>
                    <td class="lr-text-end">{{ summaryStats.emailsSent|number_format }}</td>
                    <td class="lr-text-end">{{ summaryStats.emailsOpened|number_format }}</td>
                    <td class="lr-text-end">{{ summaryStats.emailOpenRate }}%</td>
                </tr>
                <tr>
                    <td><strong>{{ 'SMS'|t('campaign-manager') }}</strong></td>
                    <td class="lr-text-end">{{ summaryStats.smsSent|number_format }}</td>
                    <td class="lr-text-end">{{ summaryStats.smsOpened|number_format }}</td>
                    <td class="lr-text-end">{{ summaryStats.smsOpenRate }}%</td>
                </tr>
                <tr class="lr-border-top-muted">
                    <td><strong>{{ 'Total'|t('campaign-manager') }}</strong></td>
                    <td class="lr-text-end"><strong>{{ summaryStats.totalSent|number_format }}</strong></td>
                    <td class="lr-text-end"><strong>{{ summaryStats.totalOpened|number_format }}</strong></td>
                    <td class="lr-text-end"><strong>{{ summaryStats.openRate }}%</strong></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
